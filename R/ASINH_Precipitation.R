
library(data.table)
library(ggplot2)
library(patchwork)

## Range
rng <- c(0, 0.1, seq(1, 1000))

dt <- data.frame(
  Precipitation = rng,
  log = log(rng),
  asinh = asinh(rng),
  asinh_inv = -1*asinh(rng)
  )

setDT(dt)
dtl <- melt(data = dt, id.vars = "Precipitation", measure.vars = c("log", "asinh"), 
            variable.name = "Transformation", value.name = "Value")

p1 <- ggplot(data  = dtl, aes(x = Precipitation, y = Value)) + 
  geom_point(aes(color = Transformation)) + 
  theme_light() + 
  ggtitle("Hyperbolic sine vs Log-transformation") +
  labs(y = "Transformed variable") 
  # + xlim(0, 250)

p2 <- ggplot(data  = dt, aes(x = Precipitation, y = asinh_inv)) + 
  geom_point() + 
  theme_light() + 
  ggtitle("-1 * Hyperbolic sine transformation") + 
  labs(y = "-1 * asinh")

pp <- p1 + p2

ggsave(filename = "Drought_HyperbolicSineTransformation.png",
  plot = pp, width = 14, height = 6.5)
